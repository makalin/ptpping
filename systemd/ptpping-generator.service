[Unit]
Description=PTPPing Audio Generator
After=network.target ptp4l.service
Wants=ptp4l.service

[Service]
Type=simple
User=root
Group=root
ExecStart=/usr/bin/python3 /opt/ptpping/ptpping.py --role generator --config /etc/ptpping/config.toml
Restart=always
RestartSec=10
StandardOutput=journal
StandardError=journal

# Audio device access
SupplementaryGroups=audio

# PTP time access
SupplementaryGroups=ptp

[Install]
WantedBy=multi-user.target
